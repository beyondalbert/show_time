<style>
.navbar-inverse {
  background: #222;
} 
</style>
<div class="video-head">
  <%= image_tag 'video_00.jpg', class: "img-responsive" %>
  <h2>精彩视频</h2>
  <p>桥梁检测精彩瞬间，智鹍与你分享。</p>
</div>
<div class="video-body container">
  <% @videos.each do |v| %>
    <div class="col-md-4 text-center">
      <div class="video-box">
        <%= image_tag v.cover.url, 'data-src' => v.url, class: "img-responsive center-block video-pic" %>
        <span><%= v.title %></span>
      </div>
    </div>
  <% end -%>
</div>

<div id="video-show" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Modal title</h4>
      </div>
      <div class="modal-body">
        <iframe id="video-content" width="100%" height="200px" src="" frameborder=0 'allowfullscreen'></iframe>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<script type="text/javascript">
$('.video-pic').click(function() {
  $('#video-show').modal();
  $('#video-show .modal-header h4').text($(this).next().text());
  $('#video-content').attr('src', $(this).attr('data-src'))
});
$('#video-show').on('hidden.bs.modal', function(e) {
  $('#video-content').attr('src', '');
})
</script>
